2025-12-19 11:28:35,092 - INFO - Building image sweb.env.py.x86_64.428468730904ff6b4232aa:latest
Using dockerfile:
FROM --platform=linux/x86_64 sweb.base.py.x86_64:latest

COPY ./setup_env.sh /root/
RUN sed -i -e 's/\r$//' /root/setup_env.sh
RUN chmod +x /root/setup_env.sh
RUN /bin/bash -c "source ~/.bashrc && /root/setup_env.sh"

WORKDIR /testbed/

# Automatically activate the testbed environment
RUN echo "source /opt/miniconda3/etc/profile.d/conda.sh && conda activate testbed" > /root/.bashrc

Adding (1) setup scripts to image build repo
2025-12-19 11:28:35,093 - INFO - [SETUP SCRIPT] setup_env.sh:
#!/bin/bash
set -euxo pipefail
source /opt/miniconda3/bin/activate
conda create -n testbed python=3.9  -y
conda activate testbed
python -m pip install attrs==23.1.0 exceptiongroup==1.1.3 execnet==2.0.2 hypothesis==6.82.6 iniconfig==2.0.0 numpy==1.25.2 packaging==23.1 pluggy==1.3.0 psutil==5.9.5 pyerfa==2.0.0.3 pytest-arraydiff==0.5.0 pytest-astropy-header==0.2.2 pytest-astropy==0.10.0 pytest-cov==4.1.0 pytest-doctestplus==1.0.0 pytest-filter-subpackage==0.1.2 pytest-mock==3.11.1 pytest-openfiles==0.5.0 pytest-remotedata==0.4.0 pytest-xdist==3.3.1 pytest==7.4.0 PyYAML==6.0.1 setuptools==68.0.0 sortedcontainers==2.4.0 tomli==2.0.1

2025-12-19 11:28:35,093 - INFO - Building docker image sweb.env.py.x86_64.428468730904ff6b4232aa:latest in logs/build_images/env/sweb.env.py.x86_64.428468730904ff6b4232aa__latest with platform linux/x86_64
2025-12-19 11:28:35,096 - INFO - Step 1/7 : FROM --platform=linux/x86_64 sweb.base.py.x86_64:latest
2025-12-19 11:28:35,097 - INFO - 
2025-12-19 11:28:35,097 - INFO - ---> aea44d7f1602
2025-12-19 11:28:35,097 - INFO - Step 2/7 : COPY ./setup_env.sh /root/
2025-12-19 11:28:35,097 - INFO - 
2025-12-19 11:28:35,097 - INFO - ---> Using cache
2025-12-19 11:28:35,097 - INFO - ---> 4cb90bd6d3dd
2025-12-19 11:28:35,097 - INFO - Step 3/7 : RUN sed -i -e 's/\r$//' /root/setup_env.sh
2025-12-19 11:28:35,097 - INFO - 
2025-12-19 11:28:35,097 - INFO - ---> Using cache
2025-12-19 11:28:35,097 - INFO - ---> 643fbd5dd5ab
2025-12-19 11:28:35,097 - INFO - Step 4/7 : RUN chmod +x /root/setup_env.sh
2025-12-19 11:28:35,097 - INFO - 
2025-12-19 11:28:35,097 - INFO - ---> Using cache
2025-12-19 11:28:35,097 - INFO - ---> 01c196fe1843
2025-12-19 11:28:35,097 - INFO - Step 5/7 : RUN /bin/bash -c "source ~/.bashrc && /root/setup_env.sh"
2025-12-19 11:28:35,097 - INFO - 
2025-12-19 11:28:35,097 - INFO - ---> Using cache
2025-12-19 11:28:35,097 - INFO - ---> 32643aad5748
2025-12-19 11:28:35,097 - INFO - Step 6/7 : WORKDIR /testbed/
2025-12-19 11:28:35,097 - INFO - 
2025-12-19 11:28:35,098 - INFO - ---> Using cache
2025-12-19 11:28:35,098 - INFO - ---> 5cfee1f59c14
2025-12-19 11:28:35,098 - INFO - Step 7/7 : RUN echo "source /opt/miniconda3/etc/profile.d/conda.sh && conda activate testbed" > /root/.bashrc
2025-12-19 11:28:35,098 - INFO - 
2025-12-19 11:28:35,098 - INFO - ---> Using cache
2025-12-19 11:28:35,098 - INFO - ---> 7f4529bcde2b
2025-12-19 11:28:35,098 - INFO - Successfully built 7f4529bcde2b
2025-12-19 11:28:35,102 - INFO - Successfully tagged sweb.env.py.x86_64.428468730904ff6b4232aa:latest
2025-12-19 11:28:35,102 - INFO - Image built successfully!
